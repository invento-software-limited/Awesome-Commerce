{
  "creation": "2025-06-11 23:19:05.505267",
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-04-20 11:48:25.997824",
  "modified_by": "Administrator",
  "name": "shop",
  "public_url": "/files/page_scripts/JavaScript-2332b-4846627fd0.js?v=6a75f7bfa6",
  "script": "document.addEventListener('DOMContentLoaded', function () {\n  const originalDrawer = document.getElementById('category_drawer');\n  const drawerBtn = document.getElementById('category_drawer_btn');\n\n  // Create and append overlay\n  const overlay = document.createElement('div');\n  overlay.id = 'drawer_overlay';\n  document.body.appendChild(overlay);\n\n  // Clone the drawer\n  const drawer = originalDrawer.cloneNode(true);\n  drawer.id = 'category_drawer_clone';\n  drawer.style.display = 'block'; // ensure it's not display: none\n  document.body.appendChild(drawer);\n\n  // Style the cloned drawer\n  Object.assign(drawer.style, {\n    position: 'fixed',\n    top: '0',\n    left: '-300px', // initially hidden off-screen\n    width: '300px',\n    height: '100%',\n    background: '#fff',\n    boxShadow: '2px 0 10px rgba(0,0,0,0.1)',\n    transition: 'left 0.3s ease',\n    zIndex: '9999',\n    overflowY: 'auto',\n    display: 'block' // important to override inherited display: none\n  });\n\n  // Style overlay\n  Object.assign(overlay.style, {\n    position: 'fixed',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n    background: 'rgba(0,0,0,0.4)',\n    zIndex: '9998',\n    display: 'none'\n  });\n\n  // Show drawer\n  drawerBtn.addEventListener('click', () => {\n    drawer.style.left = '0';\n    overlay.style.display = 'block';\n  });\n\n  // Hide drawer\n  overlay.addEventListener('click', () => {\n    drawer.style.left = '-300px';\n    overlay.style.display = 'none';\n  });\n    const sortSelect = document.getElementById(\"sorting\");\n\n    // Get `sort_by` from URL\n    const urlParams = new URLSearchParams(window.location.search);\n    const sortBy = urlParams.get(\"sort_by\");\n\n    if (sortBy) {\n      // Set the selected option\n      [...sortSelect.options].forEach(option => {\n        if (option.value === sortBy) {\n          option.selected = true;\n        }\n      });\n    }\n\n    sortSelect.addEventListener(\"change\", function () {\n      const selectedSort = this.value;\n      const url = new URL(window.location.href);\n      url.searchParams.set(\"sort_by\", selectedSort);\n      url.searchParams.set(\"page\", 1); // reset to page 1 on change\n      window.location.href = url.toString();\n    });\n});\n\n",
  "script_type": "JavaScript",
  "owner": "Administrator"
}
