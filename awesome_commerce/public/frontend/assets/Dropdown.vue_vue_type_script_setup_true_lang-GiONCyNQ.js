var le=Object.defineProperty,re=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var j=(a,r,l)=>r in a?le(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,$=(a,r)=>{for(var l in r||(r={}))K.call(r,l)&&j(a,l,r[l]);if(F)for(var l of F(r))U.call(r,l)&&j(a,l,r[l]);return a},q=(a,r)=>re(a,oe(r));var A=(a,r)=>{var l={};for(var u in a)K.call(a,u)&&r.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&F)for(var u of F(a))r.indexOf(u)<0&&U.call(a,u)&&(l[u]=a[u]);return l};import{r as x,dd as y,d as T,da as L,df as ue,c as S,dI as se,dJ as E,db as O,dK as z,dm as g,aU as M,dL as ie,ds as J,dM as I,dN as te,b0 as ce,b5 as de,bU as pe,dO as fe,du as ve,dP as me,dQ as be,dR as ge,dS as ye,dT as he,dU as Ie,aI as ke,dl as xe,b9 as Se,i as R,w,l as B,P as we,u as D,n as Q,a as P,F as H,j as G,b as W,t as N,bi as Z,g as Re,cJ as Me,e as De,aV as Pe,aT as X,cR as Te,f as Ce,d7 as Fe,o as k}from"./index-CjINglDs.js";let Y=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ee(a){var r,l;let u=(r=a.innerText)!=null?r:"",p=a.cloneNode(!0);if(!(p instanceof HTMLElement))return u;let d=!1;for(let f of p.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),d=!0;let e=d?(l=p.innerText)!=null?l:"":u;return Y.test(e)&&(e=e.replace(Y,"")),e}function $e(a){let r=a.getAttribute("aria-label");if(typeof r=="string")return r.trim();let l=a.getAttribute("aria-labelledby");if(l){let u=l.split(" ").map(p=>{let d=document.getElementById(p);if(d){let e=d.getAttribute("aria-label");return typeof e=="string"?e.trim():ee(d).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(", ")}return ee(a).trim()}function Ae(a){let r=x(""),l=x("");return()=>{let u=y(a);if(!u)return"";let p=u.innerText;if(r.value===p)return l.value;let d=$e(u).trim().toLowerCase();return r.value=p,l.value=d,d}}var Ee=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(Ee||{}),Oe=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Oe||{});function _e(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let ae=Symbol("MenuContext");function _(a){let r=ke(ae,null);if(r===null){let l=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,_),l}return r}let Be=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:r,attrs:l}){let u=x(1),p=x(null),d=x(null),e=x([]),f=x(""),n=x(null),c=x(1);function b(t=s=>s){let s=n.value!==null?e.value[n.value]:null,i=xe(t(e.value.slice()),h=>y(h.dataRef.domRef)),v=s?i.indexOf(s):null;return v===-1&&(v=null),{items:i,activeItemIndex:v}}let o={menuState:u,buttonRef:p,itemsRef:d,items:e,searchQuery:f,activeItemIndex:n,activationTrigger:c,closeMenu:()=>{u.value=1,n.value=null},openMenu:()=>u.value=0,goToItem(t,s,i){let v=b(),h=Ie(t===I.Specific?{focus:I.Specific,id:s}:{focus:t},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});f.value="",n.value=h,c.value=i!=null?i:1,e.value=v.items},search(t){let s=f.value!==""?0:1;f.value+=t.toLowerCase();let i=(n.value!==null?e.value.slice(n.value+s).concat(e.value.slice(0,n.value+s)):e.value).find(h=>h.dataRef.textValue.startsWith(f.value)&&!h.dataRef.disabled),v=i?e.value.indexOf(i):-1;v===-1||v===n.value||(n.value=v,c.value=1)},clearSearch(){f.value=""},registerItem(t,s){let i=b(v=>[...v,{id:t,dataRef:s}]);e.value=i.items,n.value=i.activeItemIndex,c.value=1},unregisterItem(t){let s=b(i=>{let v=i.findIndex(h=>h.id===t);return v!==-1&&i.splice(v,1),i});e.value=s.items,n.value=s.activeItemIndex,c.value=1}};return me([p,d],(t,s)=>{var i;o.closeMenu(),be(s,ge.Loose)||(t.preventDefault(),(i=y(p))==null||i.focus())},S(()=>u.value===0)),Se(ae,o),ye(S(()=>he(u.value,{0:E.Open,1:E.Closed}))),()=>{let t={open:u.value===0,close:o.closeMenu};return O({ourProps:{},theirProps:a,slot:t,slots:r,attrs:l,name:"Menu"})}}}),Ne=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:r,slots:l,expose:u}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-button-${L()}`,e=_("MenuButton");u({el:e.buttonRef,$el:e.buttonRef});function f(o){switch(o.key){case g.Space:case g.Enter:case g.ArrowDown:o.preventDefault(),o.stopPropagation(),e.openMenu(),M(()=>{var t;(t=y(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case g.ArrowUp:o.preventDefault(),o.stopPropagation(),e.openMenu(),M(()=>{var t;(t=y(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function n(o){switch(o.key){case g.Space:o.preventDefault();break}}function c(o){a.disabled||(e.menuState.value===0?(e.closeMenu(),M(()=>{var t;return(t=y(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(o.preventDefault(),e.openMenu(),_e(()=>{var t;return(t=y(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let b=ve(S(()=>({as:a.as,type:r.type})),e.buttonRef);return()=>{var o;let t={open:e.menuState.value===0},s=A(a,[]),i={ref:e.buttonRef,id:d,type:b.value,"aria-haspopup":"menu","aria-controls":(o=y(e.itemsRef))==null?void 0:o.id,"aria-expanded":e.menuState.value===0,onKeydown:f,onKeyup:n,onClick:c};return O({ourProps:i,theirProps:s,slot:t,attrs:r,slots:l,name:"MenuButton"})}}}),Le=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:r,slots:l,expose:u}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-items-${L()}`,e=_("MenuItems"),f=x(null);u({el:e.itemsRef,$el:e.itemsRef}),ue({container:S(()=>y(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function n(t){var s;switch(f.value&&clearTimeout(f.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let i=e.items.value[e.activeItemIndex.value];(s=y(i.dataRef.domRef))==null||s.click()}e.closeMenu(),te(y(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>{var i;return(i=y(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>ie(y(e.buttonRef),t.shiftKey?J.Previous:J.Next));break;default:t.key.length===1&&(e.search(t.key),f.value=setTimeout(()=>e.clearSearch(),350));break}}function c(t){switch(t.key){case g.Space:t.preventDefault();break}}let b=se(),o=S(()=>b!==null?(b.value&E.Open)===E.Open:e.menuState.value===0);return()=>{var t,s;let i={open:e.menuState.value===0},v=A(a,[]),h={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(s=y(e.buttonRef))==null?void 0:s.id,id:d,onKeydown:n,onKeyup:c,role:"menu",tabIndex:0,ref:e.itemsRef};return O({ourProps:h,theirProps:v,slot:i,attrs:r,slots:l,features:z.RenderStrategy|z.Static,visible:o.value,name:"MenuItems"})}}}),Ve=T({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:r,attrs:l,expose:u}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-item-${L()}`,e=_("MenuItem"),f=x(null);u({el:f,$el:f});let n=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===d:!1),c=Ae(f),b=S(()=>({disabled:a.disabled,get textValue(){return c()},domRef:f}));ce(()=>e.registerItem(d,b)),de(()=>e.unregisterItem(d)),pe(()=>{e.menuState.value===0&&n.value&&e.activationTrigger.value!==0&&M(()=>{var m,C;return(C=(m=y(f))==null?void 0:m.scrollIntoView)==null?void 0:C.call(m,{block:"nearest"})})});function o(m){if(a.disabled)return m.preventDefault();e.closeMenu(),te(y(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,d)}let s=fe();function i(m){s.update(m)}function v(m){s.wasMoved(m)&&(a.disabled||n.value||e.goToItem(I.Specific,d,0))}function h(m){s.wasMoved(m)&&(a.disabled||n.value&&e.goToItem(I.Nothing))}return()=>{let V=a,{disabled:m}=V,C=A(V,["disabled"]),ne={active:n.value,disabled:m,close:e.closeMenu};return O({ourProps:{id:d,ref:f,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,onClick:o,onFocus:t,onPointerenter:i,onMouseenter:i,onPointermove:v,onMousemove:v,onPointerleave:h,onMouseleave:h},theirProps:$($({},l),C),slot:ne,attrs:l,slots:r,name:"MenuItem"})}}});const je={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-6"},Ke=["onClick"],Ue={class:"whitespace-nowrap text-ink-gray-7"},Je=T({__name:"Dropdown",props:{button:{},options:{default:()=>[]},placement:{default:"left"}},setup(a){const r=Fe(),l=a,u=n=>{let c=()=>{n.route?r.push(n.route):n.onClick&&n.onClick()};return{label:n.label,icon:n.icon,component:n.component,onClick:c}},p=n=>(n||[]).filter(Boolean).filter(c=>c.condition?c.condition():!0).map(c=>u(c)),d=S(()=>{let n=[],c=null,b=0;for(let o of l.options)if(o!=null){if("group"in o){c&&(n.push(c),c=null);let t=q($({key:b},o),{items:p(o.items)});n.push(t)}else c||(c={key:b,group:"",hideLabel:!0,items:[]}),c.items.push(...p([o]));b++}return c&&n.push(c),n}),e=S(()=>({enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"})),f=S(()=>l.placement==="left"?"bottom-start":l.placement==="right"?"bottom-end":l.placement==="center"?"bottom-center":"bottom");return(n,c)=>(k(),R(D(Be),{as:"div",class:"relative inline-block text-left"},{default:w(({open:b})=>[B(we,{transition:e.value,show:b,placement:f.value},{target:w(()=>[B(D(Ne),{as:"div"},{default:w(()=>[n.$slots.default?De(n.$slots,"default",Pe(X({key:0},{open:b}))):(k(),R(D(Te),X({key:1,active:b},n.button),{default:w(()=>{var o;return[Ce(N(n.button?((o=n.button)==null?void 0:o.label)||null:"Options"),1)]}),_:2},1040,["active"]))]),_:2},1024)]),body:w(()=>[B(D(Le),{class:Q(["mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"left-0 origin-top-left":n.placement=="left","right-0 origin-top-right":n.placement=="right","inset-x-0 origin-top":n.placement=="center"}])},{default:w(()=>[(k(!0),P(H,null,G(d.value,o=>(k(),P("div",{key:o.key,class:"p-1.5"},[o.group&&!o.hideLabel?(k(),P("div",je,N(o.group),1)):W("",!0),(k(!0),P(H,null,G(o.items,t=>(k(),R(D(Ve),{key:t.label},{default:w(({active:s})=>[t.component?(k(),R(Z(t.component),{key:0,active:s},null,8,["active"])):(k(),P("button",{key:1,class:Q([s?"bg-surface-gray-3":"text-ink-gray-6","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:t.onClick},[t.icon&&typeof t.icon=="string"?(k(),R(Me,{key:0,name:t.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6","aria-hidden":"true"},null,8,["name"])):t.icon?(k(),R(Z(t.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6"})):W("",!0),Re("span",Ue,N(t.label),1)],10,Ke))]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:2},1032,["transition","show","placement"])]),_:3}))}});export{Le as M,Je as _,Ve as b,Be as g};
//# sourceMappingURL=Dropdown.vue_vue_type_script_setup_true_lang-GiONCyNQ.js.map
