{"version":3,"file":"PageBuilderDashboard-Cidxny7U.js","sources":["../../../../node_modules/frappe-ui/src/components/Avatar.vue","../../../../node_modules/frappe-ui/src/components/Badge.vue","../../../../frontend/src/components/AppsMenu.vue","../../../../frontend/src/components/Icons/Files.vue","../../../../frontend/src/components/Icons/Folder.vue","../../../../frontend/src/components/Modals/NewFolder.vue","../../../../frontend/src/components/DashboardSidebar.vue","../../../../frontend/src/components/Modals/SelectFolder.vue","../../../../frontend/src/components/PageCard.vue","../../../../frontend/src/components/Icons/Globe.vue","../../../../frontend/src/components/PageListItem.vue","../../../../frontend/src/directives/vOnClickAndHold.ts","../../../../frontend/src/pages/PageBuilderDashboard.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative inline-block shrink-0\"\n    :class=\"[sizeClasses, shapeClasses]\"\n  >\n    <img\n      v-if=\"image && !imgFetchError\"\n      :src=\"image\"\n      :alt=\"label\"\n      :class=\"[shapeClasses, 'h-full w-full object-cover']\"\n      @error=\"(err) => handleImageError(err)\"\n    />\n    <div\n      v-else\n      class=\"flex h-full w-full items-center justify-center bg-surface-gray-2 uppercase text-ink-gray-5\"\n      :class=\"[labelClasses, shapeClasses]\"\n    >\n      <div :class=\"iconClasses\" v-if=\"$slots.default\">\n        <slot></slot>\n      </div>\n      <template v-else>\n        {{ label && label[0] }}\n      </template>\n    </div>\n    <div\n      v-if=\"$slots.indicator\"\n      :class=\"[\n        'absolute bottom-0 right-0 grid place-items-center rounded-full bg-surface-white',\n        indicatorContainerClasses,\n      ]\"\n    >\n      <div :class=\"indicatorClasses\">\n        <slot name=\"indicator\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\n\nconst imgFetchError = ref(false)\n\ninterface AvatarProps {\n  image?: string\n  label?: string\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl'\n  shape?: 'circle' | 'square'\n}\n\nconst props = withDefaults(defineProps<AvatarProps>(), {\n  size: 'md',\n  shape: 'circle',\n})\n\nconst shapeClasses = computed(() => {\n  return {\n    circle: 'rounded-full',\n    square: {\n      xs: 'rounded-[4px]',\n      sm: 'rounded-[5px]',\n      md: 'rounded-[5px]',\n      lg: 'rounded-[6px]',\n      xl: 'rounded-[6px]',\n      '2xl': 'rounded-[8px]',\n      '3xl': 'rounded-[10px]',\n    }[props.size],\n  }[props.shape]\n})\n\nconst sizeClasses = computed(() => {\n  return {\n    xs: 'w-4 h-4',\n    sm: 'w-5 h-5',\n    md: 'w-6 h-6',\n    lg: 'w-7 h-7',\n    xl: 'w-8 h-8',\n    '2xl': 'w-10 h-10',\n    '3xl': 'w-11.5 h-11.5',\n  }[props.size]\n})\n\nconst labelClasses = computed(() => {\n  let sizeClass = {\n    xs: 'text-2xs',\n    sm: 'text-sm',\n    md: 'text-base',\n    lg: 'text-base',\n    xl: 'text-lg',\n    '2xl': 'text-xl',\n    '3xl': 'text-2xl',\n  }[props.size]\n  return ['font-medium', sizeClass]\n})\n\nconst indicatorContainerClasses = computed(() => {\n  return {\n    xs: '-mr-[.1rem] -mb-[.1rem] h-2 w-2',\n    sm: '-mr-[.1rem] -mb-[.1rem] h-[9px] w-[9px]',\n    md: '-mr-[.1rem] -mb-[.1rem] h-2.5 w-2.5',\n    lg: '-mr-[.1rem] -mb-[.1rem] h-3 w-3',\n    xl: '-mr-[.1rem] -mb-[.1rem] h-3 w-3',\n    '2xl': '-mr-[.1rem] -mb-[.1rem] h-3.5 w-3.5',\n    '3xl': '-mr-[.2rem] -mb-[.2rem] h-4 w-4',\n  }[props.size]\n})\n\nconst indicatorClasses = computed(() => {\n  return {\n    xs: 'h-1 w-1',\n    sm: 'h-[5px] w-[5px]',\n    md: 'h-1.5 w-1.5',\n    lg: 'h-2 w-2',\n    xl: 'h-2 w-2',\n    '2xl': 'h-2.5 w-2.5',\n    '3xl': 'h-3 w-3',\n  }[props.size]\n})\n\nconst iconClasses = computed(() => {\n  return {\n    xs: 'h-2.5 w-2.5',\n    sm: 'h-3 w-3',\n    md: 'h-4 w-4',\n    lg: 'h-4 w-4',\n    xl: 'h-4 w-4',\n    '2xl': 'h-5 w-5',\n    '3xl': 'h-5 w-5',\n  }[props.size]\n})\n\nfunction handleImageError(err) {\n  if (err.type) {\n    imgFetchError.value = true\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"inline-flex select-none items-center gap-1 rounded-full\"\n    :class=\"classes\"\n  >\n    <div\n      :class=\"[props.size == 'lg' ? 'max-h-6' : 'max-h-4']\"\n      v-if=\"$slots.prefix\"\n    >\n      <slot name=\"prefix\"></slot>\n    </div>\n    <slot>{{ props.label?.toString() }}</slot>\n    <div\n      :class=\"[props.size == 'lg' ? 'max-h-6' : 'max-h-4']\"\n      v-if=\"$slots.suffix\"\n    >\n      <slot name=\"suffix\"></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\ninterface Label {\n  toString(): string\n}\n\ninterface BadgeProps {\n  theme?: 'gray' | 'blue' | 'green' | 'orange' | 'red'\n  size?: 'sm' | 'md' | 'lg'\n  variant?: 'solid' | 'subtle' | 'outline' | 'ghost'\n  label?: Label | string | number\n}\n\nconst props = withDefaults(defineProps<BadgeProps>(), {\n  theme: 'gray',\n  size: 'md',\n  variant: 'subtle',\n})\n\nconst classes = computed(() => {\n  let solidClasses = {\n    gray: 'text-ink-white bg-surface-gray-7',\n    blue: 'text-ink-blue-1 bg-surface-blue-2',\n    green: 'text-ink-green-1 bg-surface-green-3',\n    orange: 'text-ink-amber-1 bg-surface-amber-2',\n    red: 'text-ink-red-1 bg-surface-red-4',\n  }[props.theme]\n\n  let subtleClasses = {\n    gray: 'text-ink-gray-6 bg-surface-gray-2',\n    blue: 'text-ink-blue-2 bg-surface-blue-1',\n    green: 'text-ink-green-3 bg-surface-green-2',\n    orange: 'text-ink-amber-3 bg-surface-amber-1',\n    red: 'text-ink-red-4 bg-surface-red-1',\n  }[props.theme]\n\n  let outlineClasses = {\n    gray: 'text-ink-gray-6 bg-transparent border border-outline-gray-1',\n    blue: 'text-ink-blue-2 bg-transparent border border-outline-blue-1',\n    green: 'text-ink-green-3 bg-transparent border border-outline-green-2',\n    orange: 'text-ink-amber-3 bg-transparent border border-outline-amber-2',\n    red: 'text-ink-red-4 bg-transparent border border-outline-red-2',\n  }[props.theme]\n\n  let ghostClasses = {\n    gray: 'text-ink-gray-6 bg-transparent',\n    blue: 'text-ink-blue-2 bg-transparent',\n    green: 'text-ink-green-3 bg-transparent',\n    orange: 'text-ink-amber-3 bg-transparent',\n    red: 'text-ink-red-4 bg-transparent',\n  }[props.theme]\n\n  let variantClasses = {\n    subtle: subtleClasses,\n    solid: solidClasses,\n    outline: outlineClasses,\n    ghost: ghostClasses,\n  }[props.variant]\n\n  let sizeClasses = {\n    sm: 'h-4 text-xs px-1.5',\n    md: 'h-5 text-xs px-1.5',\n    lg: 'h-6 text-sm px-2',\n  }[props.size]\n\n  return [variantClasses, sizeClasses]\n})\n</script>\n","<template>\n\t<Popover placement=\"right-start\" trigger=\"hover\" :hoverDelay=\"0.1\" :leaveDelay=\"0.1\">\n\t\t<template #target=\"{ togglePopover, isOpen }\">\n\t\t\t<button\n\t\t\t\tclass=\"flex h-7 w-full items-center justify-between rounded px-2 text-base hover:bg-surface-gray-2\"\n\t\t\t\t:class=\"{ 'bg-surface-gray-2': isOpen }\"\n\t\t\t\t@click.prevent=\"togglePopover()\">\n\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t<FeatherIcon name=\"grid\" class=\"size-4\" />\n\t\t\t\t\t<span class=\"text-ink-gray-7\">Apps</span>\n\t\t\t\t</div>\n\t\t\t\t<FeatherIcon name=\"chevron-right\" class=\"size-4\" />\n\t\t\t</button>\n\t\t</template>\n\t\t<template #body>\n\t\t\t<div\n\t\t\t\tclass=\"flex w-fit min-w-32 max-w-48 flex-col rounded-lg border border-outline-gray-2 bg-surface-white p-1.5 text-sm text-ink-gray-8 shadow-xl auto-fill-[100px] dark:bg-surface-gray-1\">\n\t\t\t\t<a\n\t\t\t\t\t:href=\"app.route\"\n\t\t\t\t\tv-for=\"app in apps.data\"\n\t\t\t\t\tkey=\"name\"\n\t\t\t\t\tclass=\"flex items-center gap-2 rounded p-1 hover:bg-surface-gray-2\">\n\t\t\t\t\t<img class=\"size-6\" :src=\"app.logo\" />\n\t\t\t\t\t<span class=\"max-w-18 w-full truncate\">\n\t\t\t\t\t\t{{ app.title }}\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</template>\n\t</Popover>\n</template>\n<script setup lang=\"ts\">\nimport { Popover, createResource } from \"frappe-ui\";\nconst apps = createResource({\n\turl: \"builder.api.get_apps\",\n\tcache: \"other_apps\",\n\tauto: true,\n});\n</script>\n","<template>\n\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t\td=\"M8 6.375C9.00102 6.375 9.8125 5.56352 9.8125 4.5625C9.8125 3.56148 9.00102 2.75 8 2.75C6.99898 2.75 6.1875 3.56148 6.1875 4.5625C6.1875 5.56352 6.99898 6.375 8 6.375ZM8 7.375C9.5533 7.375 10.8125 6.1158 10.8125 4.5625C10.8125 3.0092 9.5533 1.75 8 1.75C6.4467 1.75 5.1875 3.0092 5.1875 4.5625C5.1875 6.1158 6.4467 7.375 8 7.375ZM11.9375 13.125C12.9385 13.125 13.75 12.3135 13.75 11.3125C13.75 10.3115 12.9385 9.5 11.9375 9.5C10.9365 9.5 10.125 10.3115 10.125 11.3125C10.125 12.3135 10.9365 13.125 11.9375 13.125ZM11.9375 14.125C13.4908 14.125 14.75 12.8658 14.75 11.3125C14.75 9.7592 13.4908 8.5 11.9375 8.5C10.3842 8.5 9.125 9.7592 9.125 11.3125C9.125 12.8658 10.3842 14.125 11.9375 14.125ZM5.875 11.3125C5.875 12.3135 5.06352 13.125 4.0625 13.125C3.06148 13.125 2.25 12.3135 2.25 11.3125C2.25 10.3115 3.06148 9.5 4.0625 9.5C5.06352 9.5 5.875 10.3115 5.875 11.3125ZM6.875 11.3125C6.875 12.8658 5.6158 14.125 4.0625 14.125C2.5092 14.125 1.25 12.8658 1.25 11.3125C1.25 9.7592 2.5092 8.5 4.0625 8.5C5.6158 8.5 6.875 9.7592 6.875 11.3125Z\"\n\t\t\tfill=\"currentColor\"\n\t\t\tstyle=\"fill: currentColor; fill-opacity: 1\" />\n\t</svg>\n</template>\n","<template>\n\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t\td=\"M10.023 2.5L8.43184 3.68632C8.25916 3.81507 8.04952 3.88462 7.83412 3.88462H2V12.5C2 13.0523 2.44772 13.5 3 13.5H13C13.5523 13.5 14 13.0523 14 12.5V2.5H10.023ZM9.49179 1.64872C9.6213 1.55216 9.77853 1.5 9.94008 1.5H14.35C14.709 1.5 15 1.79101 15 2.15V12.5C15 13.6046 14.1046 14.5 13 14.5H3C1.89543 14.5 1 13.6046 1 12.5V3.53462C1 3.17563 1.29102 2.88462 1.65 2.88462H7.83412L9.49179 1.64872Z\"\n\t\t\tfill=\"currentColor\" />\n\t</svg>\n</template>\n","<template>\n\t<Dialog\n\t\tclass=\"overscroll-none\"\n\t\tv-model=\"showModel\"\n\t\t:options=\"{\n\t\t\ttitle: 'Create New Folder',\n\t\t\tsize: 'sm',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Create Folder',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tloading: builderProjectFolder.loading,\n\t\t\t\t\tonClick: createFolder,\n\t\t\t\t},\n\t\t\t],\n\t\t}\">\n\t\t<template #body-content>\n\t\t\t<BuilderInput\n\t\t\t\t@input=\"folderName = $event\"\n\t\t\t\ttype=\"Input\"\n\t\t\t\tlabel=\"Folder Name\"\n\t\t\t\t:required=\"true\"></BuilderInput>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup lang=\"ts\">\nimport Dialog from \"@/components/Controls/Dialog.vue\";\nimport builderProjectFolder from \"@/data/builderProjectFolder\";\nimport { useVModel } from \"@vueuse/core\";\nimport { ref } from \"vue\";\n\nconst folderName = ref(\"\");\nconst props = defineProps<{\n\tmodelValue: boolean;\n}>();\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst showModel = useVModel(props, \"modelValue\", emit);\n\nconst createFolder = () => {\n\tif (!folderName.value) {\n\t\treturn;\n\t}\n\tbuilderProjectFolder.insert\n\t\t.submit({\n\t\t\tfolder_name: folderName.value,\n\t\t})\n\t\t.then(() => {\n\t\t\tfolderName.value = \"\";\n\t\t\tshowModel.value = false;\n\t\t});\n};\n</script>\n","<template>\n\t<section\n\t\tclass=\"sticky bottom-0 left-0 top-0 flex w-60 flex-col gap-3 bg-surface-gray-1 p-2 shadow-lg max-lg:hidden\">\n\t\t<div class=\"flex flex-col\">\n\t\t\t<span\n\t\t\t\tclass=\"flex cursor-pointer gap-2 rounded p-2 text-base text-ink-gray-6\"\n\t\t\t\t@click=\"() => setFolderActive('')\"\n\t\t\t\t:class=\"{ 'bg-surface-modal text-ink-gray-8 shadow-sm dark:bg-surface-gray-2': !store.activeFolder }\">\n\t\t\t\t<FilesIcon class=\"size-4\"></FilesIcon>\n\t\t\t\tAll Pages\n\t\t\t</span>\n\t\t\t<span class=\"flex cursor-pointer gap-2 p-2 text-base text-ink-gray-6\" @click=\"emit('openSettings')\">\n\t\t\t\t<SettingsIcon class=\"size-4\"></SettingsIcon>\n\t\t\t\tSettings\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"flex flex-col\">\n\t\t\t<div class=\"flex items-center justify-between p-2 text-base text-ink-gray-6\">\n\t\t\t\t<span>Folders</span>\n\t\t\t\t<BuilderButton\n\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\ticon=\"plus\"\n\t\t\t\t\tclass=\"size-4 cursor-pointer hover:text-ink-gray-8\"\n\t\t\t\t\t@click=\"showNewFolderDialog = true\"></BuilderButton>\n\t\t\t</div>\n\t\t\t<span\n\t\t\t\tclass=\"flex cursor-pointer gap-2 rounded p-2 text-base text-ink-gray-6\"\n\t\t\t\tv-for=\"project in builderProjectFolder.data\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'bg-surface-modal text-ink-gray-8 shadow-sm dark:bg-surface-gray-2': isFolderActive(\n\t\t\t\t\t\tproject.folder_name,\n\t\t\t\t\t),\n\t\t\t\t}\"\n\t\t\t\t@click=\"setFolderActive(project.folder_name)\">\n\t\t\t\t<FolderIcon class=\"size-4\"></FolderIcon>\n\t\t\t\t{{ project.folder_name }}\n\t\t\t</span>\n\t\t</div>\n\t\t<NewFolder v-model=\"showNewFolderDialog\"></NewFolder>\n\t</section>\n</template>\n<script lang=\"ts\" setup>\nimport FilesIcon from \"@/components/Icons/Files.vue\";\nimport FolderIcon from \"@/components/Icons/Folder.vue\";\nimport SettingsIcon from \"@/components/Icons/SettingsGear.vue\";\nimport NewFolder from \"@/components/Modals/NewFolder.vue\";\nimport builderProjectFolder from \"@/data/builderProjectFolder\";\nimport useStore from \"@/store\";\nimport { ref } from \"vue\";\n\nconst store = useStore();\n\nconst emit = defineEmits([\"openSettings\", \"setActiveFolder\"]);\n\nconst showNewFolderDialog = ref(false);\n\nconst isFolderActive = (folderName: string) => {\n\treturn store.activeFolder === folderName;\n};\nconst setFolderActive = (folderName: string) => {\n\tstore.activeFolder = folderName;\n};\n</script>\n","<template>\n\t<Dialog\n\t\tclass=\"overscroll-none\"\n\t\tv-model=\"showModel\"\n\t\t:options=\"{\n\t\t\ttitle: 'Select Folder',\n\t\t\tsize: 'sm',\n\t\t}\">\n\t\t<template #body-content>\n\t\t\t<span\n\t\t\t\tclass=\"flex gap-2 rounded p-2 text-base text-ink-gray-3\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'cursor-pointer text-ink-gray-6 hover:text-ink-gray-9': currentFolder,\n\t\t\t\t}\"\n\t\t\t\t@click=\"folderSelected('')\">\n\t\t\t\t<FeatherIcon name=\"home\" class=\"size-4\"></FeatherIcon>\n\t\t\t\tHome\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclass=\"flex cursor-default gap-2 rounded p-2 text-base text-ink-gray-2\"\n\t\t\t\tv-for=\"project in builderProjectFolder.data\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'cursor-pointer !text-ink-gray-6 hover:!text-ink-gray-9': currentFolder !== project.folder_name,\n\t\t\t\t}\"\n\t\t\t\t@click=\"folderSelected(project.folder_name)\">\n\t\t\t\t<FolderIcon class=\"size-4\"></FolderIcon>\n\t\t\t\t{{ project.folder_name }}\n\t\t\t</span>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup lang=\"ts\">\nimport Dialog from \"@/components/Controls/Dialog.vue\";\nimport FolderIcon from \"@/components/Icons/Folder.vue\";\nimport builderProjectFolder from \"@/data/builderProjectFolder\";\nimport { useVModel } from \"@vueuse/core\";\n\nconst props = defineProps<{\n\tcurrentFolder: string;\n\tmodelValue: boolean;\n}>();\n\nconst emit = defineEmits([\"update:modelValue\", \"folderSelected\"]);\nconst showModel = useVModel(props, \"modelValue\", emit);\n\nconst folderSelected = (folder: string | null) => {\n\tif (folder === props.currentFolder) {\n\t\treturn;\n\t}\n\temit(\"folderSelected\", folder);\n\tshowModel.value = false;\n};\n</script>\n","<template>\n\t<router-link :to=\"{ name: 'builder', params: { pageId: page.page_name } }\">\n\t\t<div\n\t\t\tclass=\"group relative flex w-full cursor-pointer flex-col gap-2 rounded-2xl bg-surface-white p-3\"\n\t\t\t:class=\"{\n\t\t\t\t'!bg-surface-gray-2': selected,\n\t\t\t}\">\n\t\t\t<img\n\t\t\t\twidth=\"250\"\n\t\t\t\theight=\"140\"\n\t\t\t\t:src=\"page.preview\"\n\t\t\t\tonerror=\"this.src='/assets/builder/images/fallback.png'\"\n\t\t\t\tclass=\"w-full overflow-hidden rounded-md object-cover shadow dark:border dark:border-outline-gray-1\" />\n\t\t\t<div class=\"flex items-center justify-between border-outline-gray-2\">\n\t\t\t\t<span class=\"inline-block max-w-[160px]\">\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t\t\t<p class=\"truncate text-base font-medium text-ink-gray-7 group-hover:text-ink-gray-9\">\n\t\t\t\t\t\t\t{{ page.page_title || page.page_name }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<UseTimeAgo v-slot=\"{ timeAgo }\" :time=\"page.modified\">\n\t\t\t\t\t\t<p class=\"mt-1 block text-sm text-ink-gray-5 group-hover:text-ink-gray-6\">Edited {{ timeAgo }}</p>\n\t\t\t\t\t</UseTimeAgo>\n\t\t\t\t</span>\n\t\t\t\t<Dropdown\n\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgroup: 'Actions',\n\t\t\t\t\t\t\thideLabel: true,\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{ label: 'Duplicate', onClick: () => store.duplicatePage(page), icon: 'copy' },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'View in Desk',\n\t\t\t\t\t\t\t\t\tonClick: () => store.openInDesk(page),\n\t\t\t\t\t\t\t\t\ticon: 'arrow-up-right',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgroup: 'Delete',\n\t\t\t\t\t\t\thideLabel: true,\n\t\t\t\t\t\t\titems: [{ label: 'Delete', onClick: () => store.deletePage(page), icon: 'trash' }],\n\t\t\t\t\t\t},\n\t\t\t\t\t]\"\n\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\tplacement=\"right\">\n\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t<BuilderButton\n\t\t\t\t\t\t\ticon=\"more-horizontal\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\tclass=\"bg-surface-white !text-ink-gray-5 hover:!text-ink-gray-9\"\n\t\t\t\t\t\t\t@click=\"open\"></BuilderButton>\n\t\t\t\t\t</template>\n\t\t\t\t</Dropdown>\n\t\t\t</div>\n\t\t</div>\n\t</router-link>\n</template>\n<script setup lang=\"ts\">\nimport useStore from \"@/store\";\nimport { BuilderPage } from \"@/types/Builder/BuilderPage\";\nimport { UseTimeAgo } from \"@vueuse/components\";\nimport { Dropdown } from \"frappe-ui\";\n\nconst store = useStore();\n\ndefineProps<{\n\tpage: BuilderPage;\n\tselected: boolean;\n}>();\n</script>\n","<template>\n\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<g clip-path=\"url(#clip0_4127_10418)\">\n\t\t\t<path\n\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\td=\"M8 14.25C11.4518 14.25 14.25 11.4518 14.25 8C14.25 5.24123 12.4626 2.89993 9.98263 2.07101L9.83743 4.24899L9.83631 4.26615C9.83212 4.33071 9.82685 4.41202 9.80788 4.49326C9.7914 4.56383 9.76729 4.6324 9.73598 4.69776C9.69995 4.77299 9.65318 4.83972 9.61604 4.89269L9.60617 4.90678L9.57764 4.94765L9.56595 4.96444C9.52223 5.02735 9.46715 5.10659 9.39646 5.17503C9.33509 5.23446 9.26636 5.28577 9.19195 5.32772C9.10624 5.37604 9.01461 5.40633 8.94187 5.43038L8.92245 5.43681L7.0142 6.07217C6.96499 6.08855 6.94071 6.09672 6.92325 6.10326L6.922 6.10373L6.92118 6.10479C6.9098 6.11956 6.89486 6.14037 6.86474 6.1826L6.30923 6.96139L6.29419 6.98255C6.23835 7.06129 6.16804 7.16044 6.07497 7.24074C5.99427 7.31037 5.90296 7.36665 5.8045 7.40745C5.69094 7.4545 5.57077 7.47276 5.47534 7.48727L5.44968 7.49119L5.38645 7.50097L5.36164 7.50486C5.26931 7.5194 5.15304 7.5377 5.03422 7.52834C4.93116 7.52022 4.82998 7.49618 4.7343 7.45705C4.62396 7.41194 4.52836 7.34328 4.45245 7.28875L4.43204 7.27413L2.19597 5.67696C1.90827 6.3951 1.75 7.17907 1.75 8C1.75 11.4518 4.54822 14.25 8 14.25ZM8 1.75C8.33917 1.75 8.67203 1.77702 8.99654 1.82902L8.83965 4.18247C8.83669 4.22684 8.83518 4.24864 8.83361 4.26448L8.8335 4.26559L8.83289 4.26653C8.8242 4.27986 8.81174 4.29781 8.78628 4.33427L8.75774 4.37514C8.72755 4.41837 8.71257 4.43969 8.70114 4.45482L8.70031 4.45591L8.69903 4.45639C8.68128 4.46305 8.65658 4.47136 8.60655 4.48802L6.6983 5.12338L6.67921 5.1297L6.6792 5.12971C6.60764 5.15336 6.5175 5.18316 6.433 5.23046C6.35963 5.27154 6.29174 5.3217 6.23092 5.37977C6.16088 5.44664 6.10592 5.52405 6.06228 5.5855L6.05062 5.60189L5.49511 6.38069C5.45644 6.43491 5.43702 6.46193 5.42207 6.48095L5.42094 6.48239L5.41914 6.48276C5.39543 6.48756 5.36257 6.49277 5.29675 6.50295L5.23352 6.51274C5.16982 6.5226 5.13803 6.5274 5.1148 6.52993L5.11305 6.53011L5.11157 6.52916C5.09196 6.51644 5.06573 6.49786 5.01328 6.46039L2.64778 4.77078C3.74249 2.96027 5.72991 1.75 8 1.75ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.81526 8.0508C7.5855 7.89763 7.27507 7.95971 7.12189 8.18948L6.19298 9.58284C6.11942 9.69318 6.09271 9.82822 6.11871 9.95825L6.58317 12.2805C6.62991 12.5142 6.83512 12.6825 7.07346 12.6825H8.93128C9.08866 12.6825 9.23685 12.6084 9.33128 12.4825L10.7246 10.6246C10.8071 10.5147 10.8407 10.3757 10.8175 10.2402C10.7943 10.1048 10.7163 9.98485 10.602 9.90862L7.81526 8.0508ZM7.13991 9.96522L7.67659 9.1602L9.60752 10.4475L8.68128 11.6825H7.48336L7.13991 9.96522Z\"\n\t\t\t\tfill=\"currentColor\" />\n\t\t</g>\n\t\t<defs>\n\t\t\t<clipPath id=\"clip0_4127_10418\">\n\t\t\t\t<rect width=\"16\" height=\"16\" fill=\"transparent\" />\n\t\t\t</clipPath>\n\t\t</defs>\n\t</svg>\n</template>\n","<template>\n\t<router-link :to=\"{ name: 'builder', params: { pageId: page.page_name } }\" class=\"h-fit w-full\">\n\t\t<div\n\t\t\tclass=\"group relative flex w-full justify-between overflow-hidden rounded-2xl border-b-[1px] border-outline-gray-1 p-3 hover:cursor-pointer hover:bg-surface-gray-1\"\n\t\t\t:class=\"{\n\t\t\t\t'bg-surface-gray-2': selected,\n\t\t\t}\">\n\t\t\t<div class=\"flex w-[90%] gap-3\">\n\t\t\t\t<img\n\t\t\t\t\twidth=\"140\"\n\t\t\t\t\theight=\"82\"\n\t\t\t\t\t:src=\"page.preview\"\n\t\t\t\t\tonerror=\"this.src='/assets/builder/images/fallback.png'\"\n\t\t\t\t\tclass=\"block w-36 flex-shrink-0 overflow-hidden rounded-lg bg-surface-gray-1 object-cover shadow-md\" />\n\t\t\t\t<div class=\"flex flex-1 items-start justify-between overflow-hidden\">\n\t\t\t\t\t<span class=\"flex h-full w-full flex-col justify-between text-base\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclass=\"max-w-[90%] truncate font-medium text-ink-gray-9\"\n\t\t\t\t\t\t\t\t\t:title=\"page.page_title || page.page_name\">\n\t\t\t\t\t\t\t\t\t{{ page.page_title || page.page_name }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mt-2 flex items-center gap-2 text-ink-gray-6\">\n\t\t\t\t\t\t\t\t<div v-show=\"page.published\">\n\t\t\t\t\t\t\t\t\t<AuthenticatedUserIcon\n\t\t\t\t\t\t\t\t\t\ttitle=\"Limited access\"\n\t\t\t\t\t\t\t\t\t\tclass=\"size-4 text-ink-amber-3\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"page.authenticated_access\" />\n\t\t\t\t\t\t\t\t\t<GlobeIcon class=\"size-4\" title=\"Publicly accessible\" v-else />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p class=\"max-w-[90%] truncate text-sm\">\n\t\t\t\t\t\t\t\t\t{{ page.route }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-baseline gap-2 text-ink-gray-6\">\n\t\t\t\t\t\t\t<UseTimeAgo v-slot=\"{ timeAgo }\" :time=\"page.modified\">\n\t\t\t\t\t\t\t\t<p class=\"mt-1 block text-sm\">Last updated {{ timeAgo }} by {{ page.modified_by }}</p>\n\t\t\t\t\t\t\t</UseTimeAgo>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t<Badge theme=\"green\" v-if=\"page.published\" class=\"dark:bg-green-900 dark:text-green-400\">\n\t\t\t\t\tPublished\n\t\t\t\t</Badge>\n\t\t\t\t<Avatar\n\t\t\t\t\t:shape=\"'circle'\"\n\t\t\t\t\t:image=\"null\"\n\t\t\t\t\t:label=\"page.owner\"\n\t\t\t\t\tclass=\"[&>div]:bg-surface-gray-2 [&>div]:text-ink-gray-4 [&>div]:group-hover:bg-surface-gray-4 [&>div]:group-hover:text-ink-gray-6\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t:title=\"`Created by ${page.owner}`\" />\n\t\t\t\t<Dropdown\n\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t{ label: 'Duplicate', onClick: () => store.duplicatePage(page), icon: 'copy' },\n\t\t\t\t\t\t{ label: 'View in Desk', onClick: () => store.openInDesk(page), icon: 'arrow-up-right' },\n\t\t\t\t\t\t{ label: 'Delete', onClick: () => store.deletePage(page), icon: 'trash' },\n\t\t\t\t\t]\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tplacement=\"right\">\n\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t<FeatherIcon\n\t\t\t\t\t\t\tname=\"more-horizontal\"\n\t\t\t\t\t\t\tclass=\"h-4 w-4 font-bold text-ink-gray-6\"\n\t\t\t\t\t\t\t@click=\"open\"></FeatherIcon>\n\t\t\t\t\t</template>\n\t\t\t\t</Dropdown>\n\t\t\t</div>\n\t\t</div>\n\t</router-link>\n</template>\n<script setup lang=\"ts\">\nimport AuthenticatedUserIcon from \"@/components/Icons/AuthenticatedUser.vue\";\nimport GlobeIcon from \"@/components/Icons/Globe.vue\";\nimport useStore from \"@/store\";\nimport { BuilderPage } from \"@/types/Builder/BuilderPage\";\nimport { UseTimeAgo } from \"@vueuse/components\";\nimport { Avatar, Badge, Dropdown } from \"frappe-ui\";\n\nconst store = useStore();\n\ndefineProps<{\n\tpage: BuilderPage;\n\tselected: boolean;\n}>();\n</script>\n","import { DirectiveBinding } from \"vue\";\n\nconst vOnClickAndHold = {\n\tmounted(el: HTMLElement, binding: DirectiveBinding) {\n\t\tlet timer: ReturnType<typeof setTimeout>;\n\t\tel.addEventListener(\"mousedown\", () => {\n\t\t\ttimer = setTimeout(() => {\n\t\t\t\tbinding.value();\n\t\t\t}, 300);\n\t\t\tdocument.addEventListener(\n\t\t\t\t\"mouseup\",\n\t\t\t\t() => {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t},\n\t\t\t\t{ once: true },\n\t\t\t);\n\t\t});\n\t},\n};\n\nexport default vOnClickAndHold;\n","<template>\n\t<div class=\"flex h-screen flex-col\">\n\t\t<!-- toolbar -->\n\t\t<div\n\t\t\tclass=\"toolbar sticky top-0 z-10 flex h-12 items-center justify-between border-b-[1px] border-outline-gray-1 bg-surface-white p-2 px-3 py-1\"\n\t\t\tref=\"toolbar\">\n\t\t\t<div>\n\t\t\t\t<Dialog\n\t\t\t\t\tv-model=\"showSettingsDialog\"\n\t\t\t\t\tstyle=\"z-index: 40\"\n\t\t\t\t\tclass=\"[&>div>div[id^=headlessui-dialog-panel]]:my-3\"\n\t\t\t\t\t:options=\"{\n\t\t\t\t\t\ttitle: 'Settings',\n\t\t\t\t\t\tsize: '5xl',\n\t\t\t\t\t}\">\n\t\t\t\t\t<template #body>\n\t\t\t\t\t\t<Settings @close=\"showSettingsDialog = false\" :onlyGlobal=\"true\"></Settings>\n\t\t\t\t\t</template>\n\t\t\t\t</Dialog>\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgroup: 'Builder',\n\t\t\t\t\t\t\t\thideLabel: true,\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'New Page',\n\t\t\t\t\t\t\t\t\t\tonClick: () => $router.push({ name: 'builder', params: { pageId: 'new' } }),\n\t\t\t\t\t\t\t\t\t\ticon: 'plus',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgroup: 'Options',\n\t\t\t\t\t\t\t\thideLabel: true,\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Apps',\n\t\t\t\t\t\t\t\t\t\tcomponent: AppsMenu,\n\t\t\t\t\t\t\t\t\t\ticon: 'grid',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Toggle Theme',\n\t\t\t\t\t\t\t\t\t\tonClick: () => toggleDark(),\n\t\t\t\t\t\t\t\t\t\ticon: isDark ? 'sun' : 'moon',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Toggle Sidebar',\n\t\t\t\t\t\t\t\t\t\tonClick: () => (store.showDashboardSidebar = !store.showDashboardSidebar),\n\t\t\t\t\t\t\t\t\t\ticon: 'sidebar',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Settings',\n\t\t\t\t\t\t\t\t\t\tonClick: () => (showSettingsDialog = true),\n\t\t\t\t\t\t\t\t\t\ticon: 'settings',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgroup: 'Help',\n\t\t\t\t\t\t\t\thideLabel: true,\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Help',\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\t\twindow.open('https://t.me/frappebuilder');\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ticon: 'info',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclass=\"flex-1 [&>div>div>div]:w-full\"\n\t\t\t\t\t\tplacement=\"right\">\n\t\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t\t<div class=\"flex cursor-pointer items-center gap-2\">\n\t\t\t\t\t\t\t\t<img src=\"/builder_logo.png\" alt=\"logo\" class=\"h-7\" />\n\t\t\t\t\t\t\t\t<h1 class=\"text-md mt-[2px] font-semibold leading-5 text-gray-800 dark:text-gray-200\">\n\t\t\t\t\t\t\t\t\tBuilder\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<FeatherIcon\n\t\t\t\t\t\t\t\t\t:name=\"open ? 'chevron-up' : 'chevron-down'\"\n\t\t\t\t\t\t\t\t\tclass=\"h-4 w-4 !text-gray-700 dark:!text-gray-200\"></FeatherIcon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<router-link\n\t\t\t\t:to=\"{ name: 'builder', params: { pageId: 'new' } }\"\n\t\t\t\t@click=\"\n\t\t\t\t\t() => {\n\t\t\t\t\t\tposthog.capture('builder_new_page_created');\n\t\t\t\t\t}\n\t\t\t\t\">\n\t\t\t\t<BuilderButton\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\ticonLeft=\"plus\"\n\t\t\t\t\tclass=\"bg-surface-gray-7 !text-ink-white hover:bg-surface-gray-6\">\n\t\t\t\t\tNew\n\t\t\t\t</BuilderButton>\n\t\t\t</router-link>\n\t\t</div>\n\t\t<div class=\"flex w-full flex-1 overflow-hidden\">\n\t\t\t<!-- Sidebar -->\n\t\t\t<DashboardSidebar\n\t\t\t\tv-show=\"store.showDashboardSidebar\"\n\t\t\t\t@openSettings=\"showSettingsDialog = true\"></DashboardSidebar>\n\t\t\t<!-- Main Content -->\n\t\t\t<div class=\"flex-1 overflow-auto\">\n\t\t\t\t<section class=\"m-auto mb-32 flex h-fit w-3/4 max-w-6xl flex-col pt-5\">\n\t\t\t\t\t<!-- list head -->\n\t\t\t\t\t<div class=\"sticky top-0 z-20 mb-8 flex items-center justify-between bg-surface-white px-3 py-5\">\n\t\t\t\t\t\t<h1 class=\"text-xl font-semibold text-ink-gray-9\">{{ store.activeFolder || \"All Pages\" }}</h1>\n\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<BuilderButton\n\t\t\t\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\t\t\t\tv-show=\"selectionMode && selectedPages.size\"\n\t\t\t\t\t\t\t\t\t@click=\"showFolderSelectorDialog = true\">\n\t\t\t\t\t\t\t\t\tMove To Folder\n\t\t\t\t\t\t\t\t</BuilderButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"relative flex\" v-show=\"!selectionMode\">\n\t\t\t\t\t\t\t\t<BuilderInput\n\t\t\t\t\t\t\t\t\tclass=\"w-48\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Filter by title or route\"\n\t\t\t\t\t\t\t\t\tv-model=\"searchFilter\"\n\t\t\t\t\t\t\t\t\tautofocus\n\t\t\t\t\t\t\t\t\t@input=\"\n\t\t\t\t\t\t\t\t\t\t(value: string) => {\n\t\t\t\t\t\t\t\t\t\t\tsearchFilter = value;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t\t<FeatherIcon name=\"search\" class=\"size-4 text-ink-gray-5\"></FeatherIcon>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</BuilderInput>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"max-md:hidden\" v-show=\"!selectionMode\">\n\t\t\t\t\t\t\t\t<BuilderInput\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tclass=\"w-24\"\n\t\t\t\t\t\t\t\t\tv-model=\"typeFilter\"\n\t\t\t\t\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t\t\t\t\t{ label: 'All', value: '' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Draft', value: 'draft' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Published', value: 'published' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Unpublished', value: 'unpublished' },\n\t\t\t\t\t\t\t\t\t]\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"max-sm:hidden\" v-show=\"!selectionMode\">\n\t\t\t\t\t\t\t\t<BuilderInput\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tclass=\"w-32\"\n\t\t\t\t\t\t\t\t\tv-model=\"orderBy\"\n\t\t\t\t\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t\t\t\t\t{ label: 'Sort', value: '', disabled: true },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Last Created', value: 'creation' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Last Modified', value: 'modified' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Alphabetically (A-Z)', value: 'alphabetically_a_z' },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Alphabetically (Z-A)', value: 'alphabetically_z_a' },\n\t\t\t\t\t\t\t\t\t]\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"max-md:hidden\">\n\t\t\t\t\t\t\t\t<OptionToggle\n\t\t\t\t\t\t\t\t\tclass=\"[&>div]:min-w-0\"\n\t\t\t\t\t\t\t\t\t:options=\"[\n\t\t\t\t\t\t\t\t\t\t{ label: 'Grid', value: 'grid', icon: 'grid', hideLabel: true },\n\t\t\t\t\t\t\t\t\t\t{ label: 'List', value: 'list', icon: 'list', hideLabel: true },\n\t\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t\tv-model=\"displayType\"></OptionToggle>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- pages -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div v-if=\"!webPages.data?.length && !searchFilter && !typeFilter\" class=\"col-span-full\">\n\t\t\t\t\t\t\t<p class=\"mt-4 px-3 text-base text-gray-500\">\n\t\t\t\t\t\t\t\tYou don't have any pages yet. Click on the \"+ New\" button to create a new page.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else-if=\"!webPages.data?.length\" class=\"col-span-full\">\n\t\t\t\t\t\t\t<p class=\"mt-4 text-base text-gray-500\">No matching pages found.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- grid -->\n\t\t\t\t\t\t<div class=\"grid-col grid gap-3 auto-fill-[220px]\" v-if=\"displayType === 'grid'\">\n\t\t\t\t\t\t\t<PageCard\n\t\t\t\t\t\t\t\tv-for=\"page in webPages.data\"\n\t\t\t\t\t\t\t\t:selected=\"selectedPages.has(page.name)\"\n\t\t\t\t\t\t\t\t@click.capture=\"($event) => handleClick($event, page)\"\n\t\t\t\t\t\t\t\t:key=\"page.page_name\"\n\t\t\t\t\t\t\t\t:page=\"page\"\n\t\t\t\t\t\t\t\tv-on-click-and-hold=\"() => enableSelectionMode(page)\"></PageCard>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- list -->\n\t\t\t\t\t\t<div v-if=\"displayType === 'list'\">\n\t\t\t\t\t\t\t<PageListItem\n\t\t\t\t\t\t\t\t@click.capture=\"($event) => handleClick($event, page)\"\n\t\t\t\t\t\t\t\tv-for=\"page in webPages.data\"\n\t\t\t\t\t\t\t\t:selected=\"selectedPages.has(page.name)\"\n\t\t\t\t\t\t\t\t:key=\"page.page_name\"\n\t\t\t\t\t\t\t\t:page=\"page\"\n\t\t\t\t\t\t\t\tv-on-click-and-hold=\"() => enableSelectionMode(page)\"></PageListItem>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BuilderButton\n\t\t\t\t\t\tclass=\"m-auto mt-12 w-fit text-sm\"\n\t\t\t\t\t\t@click=\"loadMore\"\n\t\t\t\t\t\tv-show=\"webPages.hasNextPage\"\n\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\tsize=\"sm\">\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</BuilderButton>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t\t<SelectFolder\n\t\t\tv-model=\"showFolderSelectorDialog\"\n\t\t\t:currentFolder=\"store.activeFolder\"\n\t\t\t@folderSelected=\"setFolder\"></SelectFolder>\n\t</div>\n</template>\n<script setup lang=\"ts\">\nimport AppsMenu from \"@/components/AppsMenu.vue\";\nimport OptionToggle from \"@/components/Controls/OptionToggle.vue\";\nimport DashboardSidebar from \"@/components/DashboardSidebar.vue\";\nimport SelectFolder from \"@/components/Modals/SelectFolder.vue\";\nimport PageCard from \"@/components/PageCard.vue\";\nimport PageListItem from \"@/components/PageListItem.vue\";\nimport Settings from \"@/components/Settings.vue\";\nimport { webPages } from \"@/data/webPage\";\nimport vOnClickAndHold from \"@/directives/vOnClickAndHold\";\nimport useStore from \"@/store\";\nimport { posthog } from \"@/telemetry\";\nimport { BuilderPage } from \"@/types/Builder/BuilderPage\";\nimport { useDark, useEventListener, useStorage, useToggle, watchDebounced } from \"@vueuse/core\";\nimport { createResource, Dropdown } from \"frappe-ui\";\nimport Dialog from \"@/components/Controls/Dialog.vue\";\nimport { onActivated, Ref, ref, watch } from \"vue\";\n\nconst isDark = useDark({\n\tattribute: \"data-theme\",\n});\nconst toggleDark = useToggle(isDark);\nconst store = useStore();\nconst displayType = useStorage(\"displayType\", \"grid\") as Ref<\"grid\" | \"list\">;\nconst showFolderSelectorDialog = ref(false);\n\nconst searchFilter = ref(\"\");\nconst typeFilter = ref(\"\");\nconst orderBy = useStorage(\"orderBy\", \"creation\") as Ref<\n\t\"creation\" | \"modified\" | \"alphabetically_a_z\" | \"alphabetically_z_a\"\n>;\n\nconst orderMap = {\n\tcreation: \"creation desc\",\n\tmodified: \"modified desc\",\n\talphabetically_a_z: \"page_title asc\",\n\talphabetically_z_a: \"page_title desc\",\n};\n\nconst selectedPages = ref(new Set<string>());\nconst selectionMode = ref(false);\n\nonActivated(() => {\n\tposthog.capture(\"builder_dashboard_page_visited\");\n});\n\nwatch(\n\t() => store.activeFolder,\n\t() => fetchPages(),\n);\n\n// remove selection mode when the escape key is pressed\nuseEventListener(document, \"keydown\", (ev) => {\n\tif (ev.key === \"Escape\") {\n\t\tselectedPages.value.clear();\n\t\tselectionMode.value = false;\n\t}\n});\n\nconst fetchPages = () => {\n\tconst filters = {\n\t\tis_template: 0,\n\t} as any;\n\tif (typeFilter.value) {\n\t\tif (typeFilter.value === \"published\") {\n\t\t\tfilters[\"published\"] = true;\n\t\t} else if (typeFilter.value === \"unpublished\") {\n\t\t\tfilters[\"published\"] = false;\n\t\t} else if (typeFilter.value === \"draft\") {\n\t\t\tfilters[\"draft_blocks\"] = [\"is\", \"set\"];\n\t\t}\n\t}\n\tconst orFilters = {} as any;\n\tif (searchFilter.value) {\n\t\torFilters[\"page_title\"] = [\"like\", `%${searchFilter.value}%`];\n\t\torFilters[\"route\"] = [\"like\", `%${searchFilter.value}%`];\n\t}\n\tif (store.activeFolder) {\n\t\tfilters[\"project_folder\"] = store.activeFolder;\n\t}\n\n\twebPages.update({\n\t\tfilters,\n\t\torFilters,\n\t\torderBy: orderMap[orderBy.value],\n\t});\n\twebPages.fetch();\n};\n\nconst loadMore = () => {\n\twebPages.next();\n};\n\nconst firstHold = ref(false);\n\nconst handleClick = (e: MouseEvent, page: BuilderPage) => {\n\tif (selectionMode.value) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (firstHold.value) {\n\t\t\tfirstHold.value = false;\n\t\t\treturn;\n\t\t}\n\t\tif (e.shiftKey) {\n\t\t\tconst pages = webPages.data || [];\n\t\t\t// select all pages between the last selected page and the current page\n\t\t\tconst lastSelectedPage = selectedPages.value.size\n\t\t\t\t? pages.find((p: BuilderPage) => p.name === Array.from(selectedPages.value)[0])\n\t\t\t\t: null;\n\t\t\tif (lastSelectedPage) {\n\t\t\t\tconst lastSelectedPageIndex = pages.indexOf(lastSelectedPage);\n\t\t\t\tconst currentPageIndex = pages.indexOf(page);\n\t\t\t\tconst start = Math.min(lastSelectedPageIndex, currentPageIndex);\n\t\t\t\tconst end = Math.max(lastSelectedPageIndex, currentPageIndex);\n\t\t\t\tfor (let i = start; i <= end; i++) {\n\t\t\t\t\tconst p = pages[i];\n\t\t\t\t\tselectedPages.value.add(p.name);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (e.ctrlKey || e.metaKey) {\n\t\t\ttogglePageSelection(page);\n\t\t} else {\n\t\t\tselectedPages.value.clear();\n\t\t\ttogglePageSelection(page);\n\t\t}\n\t} else {\n\t\tposthog.capture(\"builder_page_opened\", { page_name: page.page_name });\n\t}\n};\n\nconst enableSelectionMode = (page: BuilderPage) => {\n\tselectionMode.value = true;\n\tfirstHold.value = true;\n\ttogglePageSelection(page);\n};\n\nconst togglePageSelection = (page: BuilderPage) => {\n\tif (selectedPages.value.has(page.name)) {\n\t\tselectedPages.value.delete(page.name);\n\t} else {\n\t\tselectedPages.value.add(page.name);\n\t}\n\t// Disable selection mode if no pages are selected\n\tif (!selectedPages.value.size) {\n\t\tselectionMode.value = false;\n\t}\n};\n\nwatchDebounced([searchFilter, typeFilter, orderBy], fetchPages, {\n\tdebounce: 300,\n\timmediate: true,\n});\n\nconst setFolder = async (folder: string) => {\n\tcreateResource({\n\t\tmethod: \"POST\",\n\t\turl: \"builder.api.update_page_folder\",\n\t})\n\t\t.submit({\n\t\t\tpages: Array.from(selectedPages.value),\n\t\t\tfolder_name: folder,\n\t\t})\n\t\t.then(() => {\n\t\t\tfor (const pageName of selectedPages.value) {\n\t\t\t\tconst page = webPages.data?.find((p: BuilderPage) => p.name === pageName);\n\t\t\t\tif (page) {\n\t\t\t\t\tpage.project_folder = folder;\n\t\t\t\t}\n\t\t\t}\n\t\t\tselectedPages.value.clear();\n\t\t\tselectionMode.value = false;\n\t\t\tshowFolderSelectorDialog.value = false;\n\t\t\tstore.activeFolder = folder;\n\t\t});\n};\n\nconst showSettingsDialog = ref(false);\n</script>\n"],"names":["imgFetchError","ref","props","__props","shapeClasses","computed","sizeClasses","labelClasses","indicatorContainerClasses","indicatorClasses","iconClasses","handleImageError","err","_createElementBlock","_normalizeClass","image","label","_cache","$slots","_renderSlot","_ctx","_Fragment","_createElementVNode","classes","solidClasses","subtleClasses","outlineClasses","ghostClasses","variantClasses","_a","apps","createResource","_createBlock","_unref","Popover","_withCtx","togglePopover","isOpen","_hoisted_2","_createVNode","_component_FeatherIcon","_hoisted_3","_openBlock","_renderList","app","_hoisted_6","_toDisplayString","_hoisted_1","folderName","showModel","useVModel","__emit","createFolder","builderProjectFolder","Dialog","$event","_component_BuilderInput","store","useStore","emit","showNewFolderDialog","isFolderActive","setFolderActive","FilesIcon","SettingsIcon","_hoisted_4","_component_BuilderButton","project","FolderIcon","NewFolder","folderSelected","folder","currentFolder","_component_router_link","page","selected","_hoisted_5","UseTimeAgo","timeAgo","Dropdown","open","_hoisted_7","AuthenticatedUserIcon","GlobeIcon","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","Badge","Avatar","vOnClickAndHold","el","binding","timer","isDark","useDark","toggleDark","useToggle","displayType","useStorage","showFolderSelectorDialog","searchFilter","typeFilter","orderBy","orderMap","selectedPages","selectionMode","onActivated","posthog","watch","fetchPages","useEventListener","ev","filters","orFilters","webPages","loadMore","firstHold","handleClick","e","pages","lastSelectedPage","p","lastSelectedPageIndex","currentPageIndex","start","end","i","togglePageSelection","enableSelectionMode","watchDebounced","setFolder","__async","pageName","showSettingsDialog","Settings","$router","AppsMenu","window","_imports_0","DashboardSidebar","_vShow","_withDirectives","value","_hoisted_12","_hoisted_13","_hoisted_14","OptionToggle","_hoisted_15","_hoisted_16","_hoisted_17","PageCard","_hoisted_18","PageListItem","SelectFolder"],"mappings":"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","x_google_ignoreList":[0,1]}