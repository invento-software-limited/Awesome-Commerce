import{d as y,r as C,a as P,k as z,n as k,e as B,o as v,v as D,c as _,l as p,i as S,b as N,m as L,u as n,w as g,f as V,t as X}from"./index-CjINglDs.js";import{_ as Y}from"./Dropdown.vue_vue_type_script_setup_true_lang-GiONCyNQ.js";const R=y({__name:"PanelResizer",props:{maxDimension:{type:Number,default:350},minDimension:{type:Number,default:280},dimension:{type:Number,default:300},side:{type:String,default:"right",validator:e=>["left","right","top","bottom"].includes(e)},resizeSensitivity:{type:Number,default:1}},emits:{resize:e=>e},setup(e,{expose:t,emit:l}){const s=e,d=l,i=C(!1);t({dragActive:i});function r(a){const u=a.clientX,o=a.clientY,m=s.dimension,w=a.target,x=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(w).cursor;const h=c=>{let f=0;["top","bottom"].includes(s.side)?f=(c.clientY-o)*(s.side==="top"?-1:1)*s.resizeSensitivity:f=(c.clientX-u)*(s.side==="left"?-1:1)*s.resizeSensitivity;let b=m+f;b=Math.min(Math.max(s.minDimension,b),s.maxDimension),d("resize",b),i.value=!0,c.preventDefault()};document.addEventListener("mousemove",h),document.addEventListener("mouseup",c=>{document.body.style.cursor=x,document.removeEventListener("mousemove",h),i.value=!1,c.preventDefault()},{once:!0})}return(a,u)=>(v(),P("div",{class:k(["absolute z-20",{"top-0 h-full w-1 hover:cursor-ew-resize":e.side==="left"||e.side==="right","left-0 right-0 h-1 hover:cursor-ns-resize":e.side==="top"||e.side==="bottom","left-0":e.side==="left","right-0":e.side==="right","top-0":e.side==="top","bottom-0":e.side==="bottom","bg-surface-gray-3":i.value}]),onMousedown:z(r,["prevent"])},[B(a.$slots,"default")],34))}}),$={class:"flex items-center"},j=y({__name:"PublishButton",setup(e){const t=D(),l=C(!1),s=_(()=>{var d,i,r;return(d=t.activePage)!=null&&d.draft_blocks&&!((i=t.activePage)!=null&&i.published)||!((r=t.activePage)!=null&&r.draft_blocks)?"Publish":"Publish Changes"});return(d,i)=>{var a,u;const r=L("BuilderButton");return v(),P("div",$,[p(r,{variant:"solid",onClick:i[0]||(i[0]=()=>{l.value=!0,n(t).publishPage().finally(()=>l.value=!1)}),class:k(["border-0",{"rounded-br-none rounded-tr-none":(a=n(t).activePage)==null?void 0:a.published}]),loading:l.value},{default:g(()=>[V(X(s.value),1)]),_:1},8,["class","loading"]),(u=n(t).activePage)!=null&&u.published?(v(),S(n(Y),{key:0,options:[{label:"Revert Changes",onClick:()=>n(t).revertChanges(),condition:()=>{var o;return(o=n(t).activePage)==null?void 0:o.draft_blocks},icon:"refresh-cw"},{label:"Unpublish",onClick:()=>n(t).unpublishPage(),condition:()=>{var o;return(o=n(t).activePage)==null?void 0:o.published},icon:"cloud-off"}],size:"sm",class:"flex-1 [&>div>div>div]:w-full",placement:"right"},{default:g(({open:o})=>{var m;return[p(r,{variant:"solid",onClick:o,disabled:!!((m=n(t).activePage)!=null&&m.is_template),icon:"chevron-down",class:"!w-6 justify-start rounded-bl-none rounded-tl-none border-0 pr-0 text-xs"},null,8,["onClick","disabled"])]}),_:1},8,["options"])):N("",!0)])}}});export{R as _,j as a};
//# sourceMappingURL=PublishButton.vue_vue_type_script_setup_true_lang-rVUX9hCT.js.map
