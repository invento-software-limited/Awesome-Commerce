import{d as w,r as _,a as C,o as y,l as B,n as P,e as S,D as k,cc as x,c as g,i as L,m as v,G as M,u as a,w as h,f as X,t as Y,H as $}from"./index-HlVA34VQ.js";import{_ as E}from"./Dropdown.vue_vue_type_script_setup_true_lang-B0tMPLRs.js";const j=w({__name:"PanelResizer",props:{maxDimension:{default:350},minDimension:{default:280},dimension:{default:300},side:{default:"right"},resizeSensitivity:{default:1}},emits:{resize:d=>d},setup(d,{expose:t,emit:u}){const s=d,c=u,r=_(!1);t({dragActive:r});function n(e){const i=e.clientX,o=e.clientY,m=s.dimension,z=e.target,D=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(z).cursor;const b=l=>{let f=0;["top","bottom"].includes(s.side)?f=(l.clientY-o)*(s.side==="top"?-1:1)*s.resizeSensitivity:f=(l.clientX-i)*(s.side==="left"?-1:1)*s.resizeSensitivity;let p=m+f;p=Math.min(Math.max(s.minDimension,p),s.maxDimension),c("resize",p),r.value=!0,l.preventDefault()};document.addEventListener("mousemove",b),document.addEventListener("mouseup",l=>{document.body.style.cursor=D,document.removeEventListener("mousemove",b),r.value=!1,l.preventDefault()},{once:!0})}return(e,i)=>(y(),C("div",{class:P(["absolute z-20",{"top-0 h-full w-1 hover:cursor-ew-resize":e.side==="left"||e.side==="right","left-0 right-0 h-1 hover:cursor-ns-resize":e.side==="top"||e.side==="bottom","left-0":e.side==="left","right-0":e.side==="right","top-0":e.side==="top","bottom-0":e.side==="bottom","bg-surface-gray-3":r.value}]),onMousedown:B(n,["prevent"])},[S(e.$slots,"default")],34))}}),N={class:"flex items-center"},A=w({__name:"PublishButton",setup(d){const t=k(),u=x(),s=_(!1),c=g(()=>{var n;return!!((n=t.activePage)!=null&&n.published)&&u.editingMode!=="fragment"}),r=g(()=>{var n,e,i;return(n=t.activePage)!=null&&n.draft_blocks&&!((e=t.activePage)!=null&&e.published)||!((i=t.activePage)!=null&&i.draft_blocks)?"Publish":"Publish Changes"});return(n,e)=>{const i=L("BuilderButton");return y(),C("div",N,[v(i,{variant:"solid",disabled:a(u).editingMode==="fragment",onClick:e[0]||(e[0]=()=>{s.value=!0,a(t).publishPage().finally(()=>s.value=!1)}),class:P(["border-0",{"rounded-br-none rounded-tr-none":c.value}]),loading:s.value},{default:h(()=>[X(Y(r.value),1)]),_:1},8,["disabled","class","loading"]),M(v(a(E),{options:[{label:"Revert Changes",onClick:()=>a(t).revertChanges(),condition:()=>{var o;return(o=a(t).activePage)==null?void 0:o.draft_blocks},icon:"refresh-cw"},{label:"Unpublish",onClick:()=>a(t).unpublishPage(),condition:()=>{var o;return!!((o=a(t).activePage)!=null&&o.published)},icon:"cloud-off"}],size:"sm",class:"flex-1 [&>div>div>div]:w-full",placement:"right"},{default:h(({open:o})=>{var m;return[v(i,{variant:"solid",onClick:o,disabled:!!((m=a(t).activePage)!=null&&m.is_template),icon:"chevron-down",class:"!w-6 justify-start rounded-bl-none rounded-tl-none border-0 pr-0 text-xs"},null,8,["onClick","disabled"])]}),_:1},8,["options"]),[[$,c.value]])])}}});export{j as _,A as a};
//# sourceMappingURL=PublishButton.vue_vue_type_script_setup_true_lang-Cd-lMxYd.js.map
